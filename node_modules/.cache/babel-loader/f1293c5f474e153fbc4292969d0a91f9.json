{"ast":null,"code":"var _jsxFileName = \"/Users/zoemeng/zoe/projects/reading/src/pages/home/components/Writer.js\";\nimport React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { WriterWrapper, WriterUp, WriterDown } from '../style.js';\nimport { actionCreator } from '../store/index.js';\n\nclass Writer extends PureComponent {\n  render() {\n    const {\n      list,\n      page,\n      handleChangeAuthor,\n      totalPage\n    } = this.props;\n    const pageList = [];\n    const newList = list.toJS(); // console.log(typeof(newList))\n\n    if (newList.length) {\n      for (let i = (page - 1) * 6; i < page * 6; i++) {\n        pageList.push( /*#__PURE__*/React.createElement(WriterDown, {\n          key: newList[i].id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 16,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: require('../../../assets/' + newList[i].imgUrl),\n          alt: \"\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 17,\n            columnNumber: 13\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"writerInfo\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 18,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"h4\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 19,\n            columnNumber: 13\n          }\n        }, newList[i].name), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 20,\n            columnNumber: 12\n          }\n        }, newList[i].bookNum, \" books | \", newList[i].likes, \" likes\")), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"follow\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"iconfont\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23,\n            columnNumber: 13\n          }\n        }, \"\\uE688\"), \"Follow\")));\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(WriterWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(WriterUp, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }\n    }, \"Pupular Author\"), /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => handleChangeAuthor(page, totalPage),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"iconfont auUpdata\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 15\n      }\n    }, \"\\uE65E\"), \"Update\")), pageList);\n  }\n\n}\n\nconst mapStateProps = state => ({\n  list: state.getIn(['home', 'writerList']),\n  page: state.getIn(['home', 'page']),\n  totalPage: state.getIn(['home', 'totalPage'])\n});\n\nconst mapDispatch = dispatch => ({\n  getHomeInfo() {\n    dispatch(actionCreator.getHomeInfo());\n  },\n\n  handleChangeAuthor(page, totalPage) {\n    if (page < totalPage) {\n      dispatch(actionCreator.changePageAuthor(page + 1));\n    } else {\n      dispatch(actionCreator.changePageAuthor(1));\n    }\n  }\n\n});\n\nexport default connect(mapStateProps, mapDispatch)(Writer);","map":{"version":3,"sources":["/Users/zoemeng/zoe/projects/reading/src/pages/home/components/Writer.js"],"names":["React","PureComponent","connect","WriterWrapper","WriterUp","WriterDown","actionCreator","Writer","render","list","page","handleChangeAuthor","totalPage","props","pageList","newList","toJS","length","i","push","id","require","imgUrl","name","bookNum","likes","mapStateProps","state","getIn","mapDispatch","dispatch","getHomeInfo","changePageAuthor"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAoC,OAApC;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,aAAR,EAAsBC,QAAtB,EAA+BC,UAA/B,QAAgD,aAAhD;AACA,SAASC,aAAT,QAA8B,mBAA9B;;AAGA,MAAMC,MAAN,SAAqBN,aAArB,CAAkC;AAChCO,EAAAA,MAAM,GAAE;AACN,UAAM;AAACC,MAAAA,IAAD;AAAMC,MAAAA,IAAN;AAAWC,MAAAA,kBAAX;AAA8BC,MAAAA;AAA9B,QAA2C,KAAKC,KAAtD;AACA,UAAMC,QAAQ,GAAG,EAAjB;AACA,UAAMC,OAAO,GAAGN,IAAI,CAACO,IAAL,EAAhB,CAHM,CAIN;;AACA,QAAGD,OAAO,CAACE,MAAX,EAAkB;AAChB,WAAI,IAAIC,CAAC,GAAG,CAACR,IAAI,GAAG,CAAR,IAAa,CAAzB,EAA4BQ,CAAC,GAAGR,IAAI,GAAG,CAAvC,EAA0CQ,CAAC,EAA3C,EAA8C;AAC5CJ,QAAAA,QAAQ,CAACK,IAAT,eACE,oBAAC,UAAD;AAAY,UAAA,GAAG,EAAIJ,OAAO,CAACG,CAAD,CAAP,CAAWE,EAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAK,UAAA,GAAG,EAAGC,OAAO,CAAC,qBAAqBN,OAAO,CAACG,CAAD,CAAP,CAAWI,MAAjC,CAAlB;AAA4D,UAAA,GAAG,EAAC,EAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,eAEE;AAAK,UAAA,SAAS,EAAE,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKP,OAAO,CAACG,CAAD,CAAP,CAAWK,IAAhB,CADA,eAED;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAIR,OAAO,CAACG,CAAD,CAAP,CAAWM,OAAf,eAAiCT,OAAO,CAACG,CAAD,CAAP,CAAWO,KAA5C,WAFC,CAFF,eAMA;AAAK,UAAA,SAAS,EAAG,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAM,UAAA,SAAS,EAAE,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,WANA,CADF;AAYD;AACF;;AAED,wBACI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAK,MAAA,OAAO,EAAI,MAAMd,kBAAkB,CAACD,IAAD,EAAME,SAAN,CAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAM,MAAA,SAAS,EAAE,mBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,WAFF,CADF,EAOKE,QAPL,CADJ;AAWD;;AAlC+B;;AAqClC,MAAMY,aAAa,GAAIC,KAAD,KAAW;AAC/BlB,EAAAA,IAAI,EAAEkB,KAAK,CAACC,KAAN,CAAY,CAAC,MAAD,EAAS,YAAT,CAAZ,CADyB;AAE/BlB,EAAAA,IAAI,EAACiB,KAAK,CAACC,KAAN,CAAY,CAAC,MAAD,EAAQ,MAAR,CAAZ,CAF0B;AAG/BhB,EAAAA,SAAS,EAACe,KAAK,CAACC,KAAN,CAAY,CAAC,MAAD,EAAQ,WAAR,CAAZ;AAHqB,CAAX,CAAtB;;AAMA,MAAMC,WAAW,GAAIC,QAAD,KAAe;AACjCC,EAAAA,WAAW,GAAE;AACXD,IAAAA,QAAQ,CAACxB,aAAa,CAACyB,WAAd,EAAD,CAAR;AACD,GAHgC;;AAIjCpB,EAAAA,kBAAkB,CAACD,IAAD,EAAME,SAAN,EAAgB;AAChC,QAAGF,IAAI,GAAGE,SAAV,EAAoB;AAClBkB,MAAAA,QAAQ,CAACxB,aAAa,CAAC0B,gBAAd,CAA+BtB,IAAI,GAAG,CAAtC,CAAD,CAAR;AACD,KAFD,MAEK;AACHoB,MAAAA,QAAQ,CAACxB,aAAa,CAAC0B,gBAAd,CAA+B,CAA/B,CAAD,CAAR;AACD;AACF;;AAVgC,CAAf,CAApB;;AAcA,eAAe9B,OAAO,CAACwB,aAAD,EAAeG,WAAf,CAAP,CAAmCtB,MAAnC,CAAf","sourcesContent":["import React , {PureComponent} from 'react';\nimport {connect} from 'react-redux';\nimport {WriterWrapper,WriterUp,WriterDown} from '../style.js';\nimport { actionCreator } from '../store/index.js';\n\n\nclass Writer extends PureComponent{\n  render(){  \n    const {list,page,handleChangeAuthor,totalPage} = this.props; \n    const pageList = [];\n    const newList = list.toJS();\n    // console.log(typeof(newList))\n    if(newList.length){\n      for(let i = (page - 1) * 6; i < page * 6; i++){\n        pageList.push(\n          <WriterDown key = {newList[i].id}>\n            <img src= {require('../../../assets/' + newList[i].imgUrl)} alt=\"\"/>\n            <div className= \"writerInfo\">\n            <h4>{newList[i].name}</h4>\n           <p>{newList[i].bookNum} books | {newList[i].likes} likes</p>\n          </div>\n          <div className = \"follow\">\n            <span className =\"iconfont\">&#xe688;</span>Follow\n         </div>\n          </WriterDown>\n        )\n      }\n    }\n    \n    return(\n        <WriterWrapper>\n          <WriterUp> \n            <h3>Pupular Author</h3>\n            <div onClick = {() => handleChangeAuthor(page,totalPage)}>\n              <span className =\"iconfont auUpdata\">&#xe65e;</span>Update\n            </div>\n          </WriterUp>\n            {pageList}\n        </WriterWrapper>\n    )\n  }\n}\n\nconst mapStateProps = (state) =>({\n  list: state.getIn(['home', 'writerList']),\n  page:state.getIn(['home','page']),\n  totalPage:state.getIn(['home','totalPage']),\n})\n\nconst mapDispatch = (dispatch) => ({\n  getHomeInfo(){\n    dispatch(actionCreator.getHomeInfo())\n  },\n  handleChangeAuthor(page,totalPage){\n    if(page < totalPage){\n      dispatch(actionCreator.changePageAuthor(page + 1))\n    }else{\n      dispatch(actionCreator.changePageAuthor(1))\n    }  \n  }\n})\n\n\nexport default connect(mapStateProps,mapDispatch)(Writer);"]},"metadata":{},"sourceType":"module"}