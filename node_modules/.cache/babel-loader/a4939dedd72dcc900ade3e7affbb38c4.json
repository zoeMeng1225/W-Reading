{"ast":null,"code":"import * as constants from './constants';\nimport { fromJS } from 'immutable';\nimport axios from 'axios'; //重新建立一个changHomeData 来存储这些数据\n\nconst changHomeData = result => ({\n  type: constants.GET_HOME_INFO,\n  topicList: result.topicList,\n  articleList: result.articleList,\n  writerList: result.writerList\n});\n\nconst changeWriterData = data => ({\n  type: constants.ADD_AUTHOR_LIST,\n  data: fromJS(data),\n  totalPage: Math.ceil(data.length / 6)\n});\n\nexport const getHomeInfo = () => {\n  return dispatch => {\n    axios.get('/interface/home.json').then(res => {\n      const result = res.data.data; //data.data 从concole里面来的\n      // const action = changHomeData(result);\n\n      dispatch(changHomeData(result));\n      dispatch(changeWriterData(result.writerList));\n    }).catch(() => {\n      console.log('error');\n    });\n  };\n}; //帮助创建一个actoin, return 一个对象\n\nexport const addHomeList = (list, nextPage, data) => ({\n  type: constants.ADD_HOME_LIST,\n  list: fromJS(list),\n  nextPage\n});\nexport const getMoreList = page => {\n  return dispatch => {\n    axios.get('/interface/homeLoadMore.json?page=' + page).then(res => {\n      const result = res.data.data; // console.log(result)\n\n      dispatch(addHomeList(result, page + 1));\n    }).catch(() => {\n      console.log('Error');\n    });\n  };\n};\nexport const toggleTopShow = show => ({\n  type: constants.TOGGLE_TOP_SHOW,\n  show\n});\nexport const changePageAuthor = page => ({\n  type: constants.CHANGE_AUTHOR_LIST,\n  page\n});","map":{"version":3,"sources":["/Users/zoemeng/zoe/projects/reading/src/pages/home/store/actionCreator.js"],"names":["constants","fromJS","axios","changHomeData","result","type","GET_HOME_INFO","topicList","articleList","writerList","changeWriterData","data","ADD_AUTHOR_LIST","totalPage","Math","ceil","length","getHomeInfo","dispatch","get","then","res","catch","console","log","addHomeList","list","nextPage","ADD_HOME_LIST","getMoreList","page","toggleTopShow","show","TOGGLE_TOP_SHOW","changePageAuthor","CHANGE_AUTHOR_LIST"],"mappings":"AAAA,OAAQ,KAAKA,SAAb,MAA4B,aAA5B;AACA,SAAQC,MAAR,QAAqB,WAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,MAAMC,aAAa,GAAIC,MAAD,KAAa;AACjCC,EAAAA,IAAI,EAAEL,SAAS,CAACM,aADiB;AAEjCC,EAAAA,SAAS,EAAEH,MAAM,CAACG,SAFe;AAGjCC,EAAAA,WAAW,EAAEJ,MAAM,CAACI,WAHa;AAIjCC,EAAAA,UAAU,EAAEL,MAAM,CAACK;AAJc,CAAb,CAAtB;;AAQA,MAAMC,gBAAgB,GAAIC,IAAD,KAAW;AAClCN,EAAAA,IAAI,EAAEL,SAAS,CAACY,eADkB;AAElCD,EAAAA,IAAI,EAAEV,MAAM,CAACU,IAAD,CAFsB;AAGlCE,EAAAA,SAAS,EAAEC,IAAI,CAACC,IAAL,CAAUJ,IAAI,CAACK,MAAL,GAAc,CAAxB;AAHuB,CAAX,CAAzB;;AAMA,OAAO,MAAMC,WAAW,GAAG,MAAM;AAC/B,SAAOC,QAAD,IAAc;AAClBhB,IAAAA,KAAK,CAACiB,GAAN,CAAU,sBAAV,EAAkCC,IAAlC,CAAwCC,GAAD,IAAS;AAC9C,YAAMjB,MAAM,GAAGiB,GAAG,CAACV,IAAJ,CAASA,IAAxB,CAD8C,CAChB;AAC9B;;AACAO,MAAAA,QAAQ,CAACf,aAAa,CAACC,MAAD,CAAd,CAAR;AACAc,MAAAA,QAAQ,CAACR,gBAAgB,CAACN,MAAM,CAACK,UAAR,CAAjB,CAAR;AACD,KALD,EAKGa,KALH,CAKS,MAAK;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACD,KAPD;AAQD,GATD;AAUD,CAXM,C,CAcP;;AACA,OAAO,MAAMC,WAAW,GAAG,CAACC,IAAD,EAAMC,QAAN,EAAehB,IAAf,MAAyB;AAClDN,EAAAA,IAAI,EAAEL,SAAS,CAAC4B,aADkC;AAElDF,EAAAA,IAAI,EAAEzB,MAAM,CAACyB,IAAD,CAFsC;AAGlDC,EAAAA;AAHkD,CAAzB,CAApB;AAMP,OAAO,MAAME,WAAW,GAAIC,IAAD,IAAU;AACnC,SAAOZ,QAAD,IAAc;AAClBhB,IAAAA,KAAK,CAACiB,GAAN,CAAU,uCAAuCW,IAAjD,EAAuDV,IAAvD,CAA6DC,GAAD,IAAQ;AAClE,YAAMjB,MAAM,GAAGiB,GAAG,CAACV,IAAJ,CAASA,IAAxB,CADkE,CAElE;;AACAO,MAAAA,QAAQ,CAACO,WAAW,CAACrB,MAAD,EAAQ0B,IAAI,GAAG,CAAf,CAAZ,CAAR;AACD,KAJD,EAIGR,KAJH,CAKE,MAAM;AACFC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACP,KAPC;AAQD,GATD;AAUD,CAXM;AAaP,OAAO,MAAMO,aAAa,GAAIC,IAAD,KAAW;AACtC3B,EAAAA,IAAI,EAAEL,SAAS,CAACiC,eADsB;AAEtCD,EAAAA;AAFsC,CAAX,CAAtB;AAKP,OAAO,MAAME,gBAAgB,GAAIJ,IAAD,KAAW;AACzCzB,EAAAA,IAAI,EAAEL,SAAS,CAACmC,kBADyB;AAEzCL,EAAAA;AAFyC,CAAX,CAAzB","sourcesContent":["import  * as constants from './constants';\nimport {fromJS} from 'immutable';\nimport axios from 'axios';\n\n//重新建立一个changHomeData 来存储这些数据\nconst changHomeData = (result) => ({\n  type: constants.GET_HOME_INFO,\n  topicList: result.topicList,\n  articleList: result.articleList,\n  writerList: result.writerList,\n});\n\n\nconst changeWriterData = (data) => ({\n  type: constants.ADD_AUTHOR_LIST,\n  data: fromJS(data),\n  totalPage: Math.ceil(data.length / 6)\n});\n\nexport const getHomeInfo = () => {\n  return(dispatch) => {\n    axios.get('/interface/home.json').then((res) => {\n      const result = res.data.data; //data.data 从concole里面来的\n      // const action = changHomeData(result);\n      dispatch(changHomeData(result));\n      dispatch(changeWriterData(result.writerList));\n    }).catch(()=> {\n      console.log('error');\n    });\n  };\n};\n\n\n//帮助创建一个actoin, return 一个对象\nexport const addHomeList = (list,nextPage,data) => ({\n  type: constants.ADD_HOME_LIST,\n  list: fromJS(list),\n  nextPage\n})\n\nexport const getMoreList = (page) => {\n  return(dispatch) => {\n    axios.get('/interface/homeLoadMore.json?page=' + page).then((res) =>{\n      const result = res.data.data;\n      // console.log(result)\n      dispatch(addHomeList(result,page + 1));\n    }).catch(\n      () => {\n          console.log('Error');\n  });\n  };\n};\n\nexport const toggleTopShow = (show) => ({\n  type: constants.TOGGLE_TOP_SHOW,\n  show\n})\n\nexport const changePageAuthor = (page) => ({\n  type: constants.CHANGE_AUTHOR_LIST,\n  page\n})\n\n\n"]},"metadata":{},"sourceType":"module"}