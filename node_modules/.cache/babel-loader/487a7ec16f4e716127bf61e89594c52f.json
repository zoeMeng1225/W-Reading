{"ast":null,"code":"import * as constants from './constants';\nimport axios from 'axios';\n\nconst changeDetailData = result => ({\n  type: constants.CHANGE_DETAIL,\n  topicList: result.topicList,\n  articleList: result.articleList,\n  writerList: result.writerList\n});\n\nexport const getDetail = id => {\n  return dispatch => {\n    axios.get('/interface/home.json?id=' + id).then(res => {\n      // console.log(id)\n      const idNum = +id;\n      const result = res.data.data;\n      const obj = {\n        topicList: result.topicList.filter(item => item.id === idNum),\n        articleList: result.articleList.filter(item => item.id === idNum),\n        writerList: result.writerList.filter(item => item.id === idNum)\n      }; // console.log(result.topicList)\n\n      dispatch(changeDetailData(obj));\n    }).catch(error => {\n      console.log(error + ' , please try again');\n    });\n  };\n};\nexport const getRelatedDetail = () => {\n  return dispatch => {\n    axios.get('/interface/related.json').then(res => {\n      const result = res.data.data;\n      dispatch(changeRelated(result));\n    });\n  };\n};\n\nconst changeRelated = result => ({\n  type: constants.CHANGE_RELATED,\n  relatedList: result.relatedList\n});\n\nexport const getLoadMore = id => {\n  return dispatch => {\n    axios.get('/interface/homeLoadMore.json?id=' + id).then(res => {\n      const idNum = +id;\n      const result = res.data.data; //  console.log(typeof(id))\n\n      const obj = {\n        loadMore: result.filter(item => item.id === idNum)\n      };\n      dispatch(changeGetMore(obj));\n    });\n  };\n};\n\nconst changeGetMore = result => ({\n  type: constants.LOAD_MORE,\n  loadMore: result.loadMore\n}); // following: \n\n\nconst getFollow = () => ({\n  type: constants.FOLLOW,\n  value: true\n});\n\nexport const unFollow = () => ({\n  type: constants.UNFOLLOW,\n  value: false\n});\nexport const followData = () => {\n  return dispatch => {\n    axios.get('/interface/follow.json').then(res => {\n      const result = res.data.data;\n      dispatch(getFollow(result));\n    });\n  };\n};","map":{"version":3,"sources":["/Users/zoemeng/zoe/learn/jianshu_project/client/src/pages/detail/store/actionCreator.js"],"names":["constants","axios","changeDetailData","result","type","CHANGE_DETAIL","topicList","articleList","writerList","getDetail","id","dispatch","get","then","res","idNum","data","obj","filter","item","catch","error","console","log","getRelatedDetail","changeRelated","CHANGE_RELATED","relatedList","getLoadMore","loadMore","changeGetMore","LOAD_MORE","getFollow","FOLLOW","value","unFollow","UNFOLLOW","followData"],"mappings":"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","sourcesContent":["import  * as constants from './constants';\nimport axios from 'axios';\n\n\nconst changeDetailData = (result) => ({\n  type: constants.CHANGE_DETAIL,\n  topicList: result.topicList,\n  articleList: result.articleList,\n  writerList: result.writerList\n})\n\nexport const getDetail = (id) => {\n  return(dispatch) => {\n    axios.get('/interface/home.json?id=' + id ).then((res) => {\n      // console.log(id)\n      const idNum = +id;\n      const result = res.data.data;\n      const obj = {\n        topicList: result.topicList.filter(item => item.id === idNum),\n        articleList: result.articleList.filter(item => item.id === idNum),\n        writerList: result.writerList.filter(item => item.id === idNum)\n      }\n\n      // console.log(result.topicList)\n      dispatch(changeDetailData(obj));\n    }).catch((error) =>{\n      console.log(error + ' , please try again');\n    })\n  }\n}\n\nexport const getRelatedDetail = () => {\n  return(dispatch) => {\n    axios.get('/interface/related.json').then(\n      (res) => {\n         const result = res.data.data;\n         dispatch(changeRelated(result));\n      })\n  }\n}\n\nconst changeRelated = (result) => ({\n  type: constants.CHANGE_RELATED,\n  relatedList:result.relatedList\n})\n\n\nexport const getLoadMore = (id) => {\n  return(dispatch) => {\n    axios.get('/interface/homeLoadMore.json?id=' + id).then(\n      (res) => {\n         const idNum = +id;\n         const result = res.data.data;\n        //  console.log(typeof(id))\n         const obj = {\n          loadMore: result.filter((item) => item.id === idNum)\n        }\n        dispatch(changeGetMore(obj))\n      })\n  }\n}\n\nconst changeGetMore = (result) => ({\n  type:constants.LOAD_MORE,\n  loadMore:result.loadMore\n});\n\n// following: \nconst getFollow = () => ({\n  type: constants.FOLLOW,\n  value: true\n});\n\nexport const unFollow = () => ({\n  type: constants.UNFOLLOW,\n  value: false\n})\n\nexport const followData = () => {\n  return (dispatch) => {\n    axios.get('/interface/follow.json').\n    then((res) =>{\n      const result = res.data.data;\n      dispatch(getFollow(result));\n    });\n  };\n};\n\n\n"]},"metadata":{},"sourceType":"module"}